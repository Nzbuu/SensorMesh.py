sudo: false

language: python

python:
  - 3.6
  - 3.5

install:
  - pip install --disable-pip-version-check --upgrade pip
  - pip install --upgrade wheel setuptools
  - pip install -r requirements.txt

script:
  - python -m pytest --cov=sensormesh --cov-report term --cov-report xml

after_success:
  - if [ -z "$COVERALLS_REPO_TOKEN" ]; then pip install python-coveralls && coveralls
  - if [ -z "$CODACY_PROJECT_TOKEN" ]; then pip install codacy-coverage && python-codacy-coverage -r coverage.xml
  - if [ -z "$CODECOV_TOKEN" ]; then pip install codecov && codecov
